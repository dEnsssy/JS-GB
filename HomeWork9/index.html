<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>HW9</title>
        <style>
            .error {
                border: 1px solid red;
            }
        </style>
    </head>
    <body>
        <input id="from" type="text" />
        В инпуте написано: <span></span>

        <br />

        <button class="messageBtn">Показать блок</button>
        <div class="message">Привет :)</div>

        <br />

        <form>
            <label>
                Первый инпут:
                <input class="form-control" type="text" />
            </label>
            <br />
            <br />
            <label>
                Второй инпут:
                <select class="form-control">
                    <option value=""></option>
                    <option value="1">Один</option>
                    <option value="2">Два</option>
                </select>
            </label>
            <br />
            <br />
            <button>Отправить</button>
        </form>
        <script>
            // 1. При изменении значения в input с id="from", значение содержащееся в нем должно моментально отображаться в span.
            const fromInput = document.getElementById("from");
            const spanOutput = document.querySelector("span");

            fromInput.addEventListener("input", function () {
                spanOutput.textContent = this.value;
            });

            // 2. При клике на кнопку с классом messageBtn необходимо элементу с классом message:
            // - добавить два класса: animate_animated и animate_fadeInLeftBig
            // - поставить данному элементу стиль visibility в значение 'visible'.
            const messageBtn = document.querySelector(".messageBtn");
            const messageDiv = document.querySelector(".message");

            messageBtn.addEventListener("click", function () {
                messageDiv.classList.add(
                    "animate_animated",
                    "animate_fadeInLeftBig"
                );
                messageDiv.style.visibility = "visible";
            });

            // 3. Необходимо при отправке формы проверить, заполнены ли все поля в этой форме.
            const form = document.querySelector("form");
            const input1 = document.querySelector("input.form-control");
            const select1 = document.querySelector("select.form-control");

            form.addEventListener("submit", function (event) {
                event.preventDefault(); 

                let isValid = true;

                if (input1.value.trim() === "") {
                    input1.classList.add("error");
                    isValid = false;
                } else {
                    input1.classList.remove("error");
                }

                if (select1.value === "") {
                    select1.classList.add("error");
                    isValid = false;
                } else {
                    select1.classList.remove("error");
                }

                if (isValid) {
                    alert("Form submitted successfully!");
                    this.submit();
                } else {
                    alert("Please fill out all the fields.");
                }
            });

            input1.addEventListener("input", function () {
                if (this.value.trim() !== "") {
                    this.classList.remove("error");
                }
            });

            select1.addEventListener("change", function () {
                if (this.value !== "") {
                    this.classList.remove("error");
                }
            });
        </script>
    </body>
</html>
